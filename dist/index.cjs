"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const m=require("react"),M=require("lucide-react"),O=require("react-router-dom");var S=typeof document<"u"?document.currentScript:null;const H={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};class me{constructor(){this.API_BASE_URL=this.getApiBaseUrl(),this.ACCESS_TOKEN_KEY="accessToken",this.REFRESH_TOKEN_KEY="refreshToken",this.USER_KEY="user"}getApiBaseUrl(){try{if(typeof{url:typeof document>"u"?require("url").pathToFileURL(__filename).href:S&&S.tagName.toUpperCase()==="SCRIPT"&&S.src||new URL("index.cjs",document.baseURI).href}<"u"&&H)return"https://sandbox.totum.surgery/api"}catch{}return"https://sandbox.totum.surgery/api"}isDevelopment(){try{if(typeof{url:typeof document>"u"?require("url").pathToFileURL(__filename).href:S&&S.tagName.toUpperCase()==="SCRIPT"&&S.src||new URL("index.cjs",document.baseURI).href}<"u"&&H)return!1}catch{}return!1}async login(o,s){try{console.log("AuthService: Making login request to:",`${this.API_BASE_URL}/Account/Login`),console.log("AuthService: Environment:",{isDev:this.isDevelopment(),apiUrl:this.API_BASE_URL}),console.log("AuthService: Request payload:",{login:o,password:"***"});const r=await fetch(`${this.API_BASE_URL}/Account/Login`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({login:o,password:s})});if(console.log("AuthService: Response status:",r.status),console.log("AuthService: Response headers:",Object.fromEntries(r.headers.entries())),!r.ok){let d=`Login failed with status ${r.status}`;try{const p=await r.text();console.error("AuthService: Error response body:",p);try{const v=JSON.parse(p);d=v.message||v.error||p||d}catch{d=p||d}}catch(p){console.error("AuthService: Could not read error response:",p)}throw new Error(d)}const i=await r.text();console.log("AuthService: Raw response text:",i);let n;try{n=JSON.parse(i)}catch(d){throw console.error("AuthService: Failed to parse response as JSON:",d),new Error("Invalid response format from server")}if(console.log("AuthService: Parsed response data:",n),!n?.value?.accessToken)throw console.error("AuthService: No access token in response:",n),new Error("Invalid response: No access token received");const l={id:n.value.userId,email:o,fullName:n.value.fullName,systemId:n.value.systemId,roleGroups:n.value.roleGroups};return this.setTokens(n.value.accessToken,n.value.refreshToken),this.setUser(l),console.log("AuthService: Login successful, tokens and user data stored"),n}catch(r){throw console.error("AuthService: Login error:",r),r}}logout(){console.log("AuthService: Logging out user"),localStorage.removeItem(this.ACCESS_TOKEN_KEY),localStorage.removeItem(this.REFRESH_TOKEN_KEY),localStorage.removeItem(this.USER_KEY)}isAuthenticated(){const o=this.getAccessToken(),s=this.getUser(),r=!!o&&!!s&&!this.isTokenExpired(o);return console.log("AuthService: isAuthenticated check:",{hasToken:!!o,hasUser:!!s,isExpired:o?this.isTokenExpired(o):"no token",result:r}),r}getAccessToken(){return localStorage.getItem(this.ACCESS_TOKEN_KEY)}getRefreshToken(){return localStorage.getItem(this.REFRESH_TOKEN_KEY)}getUser(){const o=localStorage.getItem(this.USER_KEY);if(!o)return null;try{return JSON.parse(o)}catch{return null}}setTokens(o,s){localStorage.setItem(this.ACCESS_TOKEN_KEY,o),localStorage.setItem(this.REFRESH_TOKEN_KEY,s),console.log("AuthService: Tokens stored in localStorage")}setUser(o){localStorage.setItem(this.USER_KEY,JSON.stringify(o)),console.log("AuthService: User data stored:",o)}isTokenExpired(o){try{const s=JSON.parse(atob(o.split(".")[1])),r=Date.now()/1e3,i=s.exp<r;return console.log("AuthService: Token expiration check:",{expired:i,exp:s.exp,now:r,timeLeft:s.exp-r}),i}catch(s){return console.error("AuthService: Error checking token expiration:",s),!0}}async authFetch(o,s={}){const r=this.getAccessToken();if(!r)throw new Error("No access token available");const i={"Content-Type":"application/json",Accept:"application/json",...s.headers,Authorization:`Bearer ${r}`},n=await fetch(o,{...s,headers:i,credentials:"include"});if(n.status===401)throw console.warn("AuthService: Token expired, clearing auth data"),this.logout(),new Error("Authentication expired");return n}async refreshToken(){const o=this.getRefreshToken();if(!o)return!1;try{const s=await fetch(`${this.API_BASE_URL}/Account/RefreshToken`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include",body:JSON.stringify({refreshToken:o})});if(!s.ok)return!1;const r=await s.json();return r?.value?.accessToken?(this.setTokens(r.value.accessToken,r.value.refreshToken||o),!0):!1}catch(s){return console.error("AuthService: Token refresh failed:",s),!1}}}const A=new me;var C={exports:{}},N={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z;function ge(){if(Z)return N;Z=1;var c=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function s(r,i,n){var l=null;if(n!==void 0&&(l=""+n),i.key!==void 0&&(l=""+i.key),"key"in i){n={};for(var d in i)d!=="key"&&(n[d]=i[d])}else n=i;return i=n.ref,{$$typeof:c,type:r,key:l,ref:i!==void 0?i:null,props:n}}return N.Fragment=o,N.jsx=s,N.jsxs=s,N}var k={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G;function pe(){return G||(G=1,process.env.NODE_ENV!=="production"&&(function(){function c(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===de?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case T:return"Profiler";case b:return"StrictMode";case ie:return"Suspense";case ce:return"SuspenseList";case ue:return"Activity"}if(typeof e=="object")switch(typeof e.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),e.$$typeof){case L:return"Portal";case ae:return(e.displayName||"Context")+".Provider";case se:return(e._context.displayName||"Context")+".Consumer";case ne:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case le:return a=e.displayName||null,a!==null?a:c(e.type)||"Memo";case z:a=e._payload,e=e._init;try{return c(e(a))}catch{}}return null}function o(e){return""+e}function s(e){try{o(e);var a=!1}catch{a=!0}if(a){a=console;var u=a.error,h=typeof Symbol=="function"&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object";return u.call(a,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",h),o(e)}}function r(e){if(e===R)return"<>";if(typeof e=="object"&&e!==null&&e.$$typeof===z)return"<...>";try{var a=c(e);return a?"<"+a+">":"<...>"}catch{return"<...>"}}function i(){var e=U.A;return e===null?null:e.getOwner()}function n(){return Error("react-stack-top-frame")}function l(e){if(V.call(e,"key")){var a=Object.getOwnPropertyDescriptor(e,"key").get;if(a&&a.isReactWarning)return!1}return e.key!==void 0}function d(e,a){function u(){q||(q=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",a))}u.isReactWarning=!0,Object.defineProperty(e,"key",{get:u,configurable:!0})}function p(){var e=c(this.type);return K[e]||(K[e]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),e=this.props.ref,e!==void 0?e:null}function v(e,a,u,h,y,E,D,F){return u=E.ref,e={$$typeof:j,type:e,key:a,props:E,_owner:y},(u!==void 0?u:null)!==null?Object.defineProperty(e,"ref",{enumerable:!1,get:p}):Object.defineProperty(e,"ref",{enumerable:!1,value:null}),e._store={},Object.defineProperty(e._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(e,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(e,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:D}),Object.defineProperty(e,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:F}),Object.freeze&&(Object.freeze(e.props),Object.freeze(e)),e}function w(e,a,u,h,y,E,D,F){var f=a.children;if(f!==void 0)if(h)if(he(f)){for(h=0;h<f.length;h++)x(f[h]);Object.freeze&&Object.freeze(f)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else x(f);if(V.call(a,"key")){f=c(e);var _=Object.keys(a).filter(function(fe){return fe!=="key"});h=0<_.length?"{key: someKey, "+_.join(": ..., ")+": ...}":"{key: someKey}",W[f+h]||(_=0<_.length?"{"+_.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,h,f,_,f),W[f+h]=!0)}if(f=null,u!==void 0&&(s(u),f=""+u),l(a)&&(s(a.key),f=""+a.key),"key"in a){u={};for(var Y in a)Y!=="key"&&(u[Y]=a[Y])}else u=a;return f&&d(u,typeof e=="function"?e.displayName||e.name||"Unknown":e),v(e,f,E,y,i(),u,D,F)}function x(e){typeof e=="object"&&e!==null&&e.$$typeof===j&&e._store&&(e._store.validated=1)}var g=m,j=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),se=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),de=Symbol.for("react.client.reference"),U=g.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=Object.prototype.hasOwnProperty,he=Array.isArray,I=console.createTask?console.createTask:function(){return null};g={react_stack_bottom_frame:function(e){return e()}};var q,K={},J=g.react_stack_bottom_frame.bind(g,n)(),B=I(r(n)),W={};k.Fragment=R,k.jsx=function(e,a,u,h,y){var E=1e4>U.recentlyCreatedOwnerStacks++;return w(e,a,u,!1,h,y,E?Error("react-stack-top-frame"):J,E?I(r(e)):B)},k.jsxs=function(e,a,u,h,y){var E=1e4>U.recentlyCreatedOwnerStacks++;return w(e,a,u,!0,h,y,E?Error("react-stack-top-frame"):J,E?I(r(e)):B)}})()),k}var X;function xe(){return X||(X=1,process.env.NODE_ENV==="production"?C.exports=ge():C.exports=pe()),C.exports}var t=xe();const Q=m.createContext(void 0),ee=({children:c})=>{const[o,s]=m.useState(null),[r,i]=m.useState(!0),[n,l]=m.useState(!1);m.useEffect(()=>{(()=>{console.log("AuthContext: Initializing authentication...");try{if(A.isAuthenticated()){const x=A.getUser();console.log("AuthContext: Found existing authentication:",x),s(x),l(!0)}else console.log("AuthContext: No existing authentication found"),s(null),l(!1)}catch(x){console.error("AuthContext: Auth initialization error:",x),A.logout(),s(null),l(!1)}finally{i(!1),console.log("AuthContext: Initialization complete")}})()},[]);const d=async(w,x)=>{try{console.log("AuthContext: Starting login process..."),i(!0),await A.login(w,x),console.log("AuthContext: Login successful, updating state...");const g=A.getUser();console.log("AuthContext: Retrieved user data:",g),s(g),l(!0),console.log("AuthContext: Login process complete, user state updated")}catch(g){throw console.error("AuthContext: Login failed:",g),s(null),l(!1),g}finally{i(!1)}},p=()=>{console.log("AuthContext: Logging out user..."),s(null),l(!1),A.logout(),window.location.href="/login"};console.log("AuthContext: Current state:",{user:o?.email,fullName:o?.fullName,isAuthenticated:n,isLoading:r});const v={user:o,isAuthenticated:n,isLoading:r,login:d,logout:p};return t.jsx(Q.Provider,{value:v,children:c})},P=()=>{const c=m.useContext(Q);if(c===void 0)throw new Error("useAuth must be used within an AuthProvider");return c},te=()=>{const[c,o]=m.useState({email:"",password:""}),[s,r]=m.useState(!1),[i,n]=m.useState(null),[l,d]=m.useState(!1),{login:p,isAuthenticated:v,isLoading:w}=P(),x=O.useNavigate(),g=O.useLocation();m.useEffect(()=>{if(console.log("LoginPage: Auth state changed:",{isAuthenticated:v,isLoading:w}),v&&!w){const b=g.state?.from?.pathname||"/dashboard";console.log("LoginPage: User authenticated, redirecting to:",b),x(b,{replace:!0})}},[v,w,x,g.state]);const j=b=>{o({...c,[b.target.name]:b.target.value}),i&&n(null)},L=async b=>{b.preventDefault(),n(null),d(!0);try{console.log("LoginPage: Submitting login form..."),await p(c.email,c.password),console.log("LoginPage: Login successful")}catch(T){console.error("LoginPage: Login error:",T),T instanceof Error?n(T.message):n("Login failed. Please check your credentials and try again.")}finally{d(!1)}};if(w)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 border-4 border-[#00bbff] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});if(v)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 border-4 border-[#00bbff] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Redirecting to dashboard..."})]})});const R=()=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 100 17",className:"h-8 w-auto text-white",children:[t.jsxs("g",{clipPath:"url(#a)",children:[t.jsx("path",{d:"M75.294.309v9.218c0 4.576-2.89 7.472-7.302 7.472-4.433 0-7.281-2.896-7.281-7.472V.31h4.09v8.975c0 2.188.942 3.647 3.19 3.647 2.25 0 3.234-1.436 3.234-3.647V.309h4.07ZM99 .309v16.38h-4.09V9.064l-3.234 7.604h-2.698l-3.255-7.604v7.627h-4.069V.31h4.112l4.54 10.301L94.867.31H99ZM27.454 0c-4.54 0-8.416 3.78-8.416 8.511 0 4.73 3.876 8.511 8.416 8.511 4.561 0 8.416-3.758 8.416-8.51 0-4.754-3.855-8.512-8.416-8.512Zm0 12.932c-2.377 0-4.283-1.967-4.283-4.421s1.906-4.421 4.283-4.421c2.398 0 4.283 1.945 4.283 4.421s-1.885 4.421-4.283 4.421Z"}),t.jsx("path",{d:"M27.454 0c-4.54 0-8.416 3.78-8.416 8.511 0 4.73 3.876 8.511 8.416 8.511 4.561 0 8.416-3.758 8.416-8.51 0-4.754-3.855-8.512-8.416-8.512Zm0 12.932c-2.377 0-4.283-1.967-4.283-4.421s1.906-4.421 4.283-4.421c2.398 0 4.283 1.945 4.283 4.421s-1.885 4.421-4.283 4.421ZM40.86.309a19.959 19.959 0 0 1 1.092 4.111h3.876v12.27h4.09V4.42h4.925V.31H40.86ZM0 .309A19.96 19.96 0 0 1 1.092 4.42h3.876v12.27h4.09V4.42h4.926V.31H0Z"})]}),t.jsx("defs",{children:t.jsx("clipPath",{id:"a",children:t.jsx("path",{d:"M0 0h99v17H0z"})})})]});return t.jsxs("div",{className:"min-h-screen flex",children:[t.jsxs("div",{className:"flex-1 relative bg-black overflow-hidden",children:[t.jsxs("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"auto",className:"absolute inset-0 w-full h-full object-cover",onError:b=>{console.error("Video failed to load:",b)},onLoadStart:()=>{console.log("Video started loading")},onCanPlay:()=>{console.log("Video can play")},children:[t.jsx("source",{src:"https://inovus-public-assets.s3.eu-west-2.amazonaws.com/web/TotumVideo.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-900 via-black to-gray-800 -z-10"}),t.jsxs("div",{className:"relative z-10 flex flex-col justify-center items-center h-full px-8 text-center",children:[t.jsxs("div",{className:"mb-16",children:[t.jsx("div",{className:"mb-8",children:t.jsx(R,{})}),t.jsxs("p",{className:"text-3xl text-white font-light",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.8)"},children:["Surgical training ",t.jsx("span",{className:"text-[#00bbff] font-medium",children:"remastered"}),"."]})]}),t.jsxs("div",{className:"relative w-full max-w-md",children:[t.jsx("div",{className:"relative z-30 mx-auto w-56 h-72 rounded-2xl overflow-hidden shadow-2xl",children:t.jsx("img",{src:"https://inovus-public-assets.s3.eu-west-2.amazonaws.com/web/LoginImageCenter.png",alt:"Medical professional center",className:"w-full h-full object-cover"})}),t.jsx("div",{className:"absolute -left-12 bottom-6 z-20 w-44 h-56 rounded-2xl overflow-hidden shadow-xl transform -rotate-6 opacity-90",children:t.jsx("img",{src:"https://inovus-public-assets.s3.eu-west-2.amazonaws.com/web/LoginImageLeft.png",alt:"Surgical training",className:"w-full h-full object-cover"})}),t.jsx("div",{className:"absolute -right-12 top-6 z-20 w-44 h-56 rounded-2xl overflow-hidden shadow-xl transform rotate-6 opacity-90",children:t.jsx("img",{src:"https://inovus-public-assets.s3.eu-west-2.amazonaws.com/web/LoginImageRight.png",alt:"Medical professional",className:"w-full h-full object-cover"})})]})]})]}),t.jsx("div",{className:"w-full max-w-md bg-white flex flex-col justify-center px-8 py-12",children:t.jsxs("div",{className:"w-full max-w-sm mx-auto",children:[t.jsx("div",{className:"text-center mb-8",children:t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome."})}),i&&t.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-center gap-3",children:[t.jsx(M.AlertCircle,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),t.jsx("p",{className:"text-red-700 text-sm",children:i})]}),t.jsxs("form",{onSubmit:L,className:"space-y-6",children:[t.jsx("div",{children:t.jsx("input",{type:"email",name:"email",value:c.email,onChange:j,placeholder:"Email",required:!0,disabled:l,className:"w-full px-4 py-4 bg-gray-50 border-0 rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#00bbff] focus:bg-white transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"})}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:s?"text":"password",name:"password",value:c.password,onChange:j,placeholder:"••••••••",required:!0,disabled:l,className:"w-full px-4 py-4 bg-gray-50 border-0 rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#00bbff] focus:bg-white transition-all duration-200 pr-12 disabled:opacity-50 disabled:cursor-not-allowed"}),t.jsx("button",{type:"button",onClick:()=>r(!s),disabled:l,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors duration-200 disabled:opacity-50",children:s?t.jsx(M.EyeOff,{className:"w-5 h-5"}):t.jsx(M.Eye,{className:"w-5 h-5"})})]}),t.jsx("button",{type:"submit",disabled:l,className:"w-full bg-[#00bbff] text-white px-6 py-3 rounded-full font-medium hover:bg-[#0099cc] transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Signing in..."]}):"Login"})]}),t.jsx("div",{className:"text-center mt-6",children:t.jsx("a",{href:"#",className:"text-gray-600 hover:text-[#00bbff] text-sm transition-colors duration-200",children:"Forgot your password?"})})]})})]})},re=({children:c})=>{const{isAuthenticated:o,isLoading:s}=P(),r=O.useLocation();return console.log("ProtectedRoute: isAuthenticated:",o,"isLoading:",s),s?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 border-4 border-[#00bbff] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):o?(console.log("ProtectedRoute: User authenticated, rendering children"),t.jsx(t.Fragment,{children:c})):(console.log("ProtectedRoute: User not authenticated, redirecting to login"),t.jsx(O.Navigate,{to:"/login",state:{from:r},replace:!0}))},ve={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function be(){try{if(typeof{url:typeof document>"u"?require("url").pathToFileURL(__filename).href:S&&S.tagName.toUpperCase()==="SCRIPT"&&S.src||new URL("index.cjs",document.baseURI).href}<"u"&&ve)return"https://sandbox.totum.surgery/api"}catch{}return"https://sandbox.totum.surgery/api"}const $=(c={})=>{const{logout:o}=P(),{baseUrl:s=be()}=c;return{authenticatedFetch:m.useCallback(async(i,n={})=>{try{const l=i.startsWith("http")?i:`${s}${i}`;return await A.authFetch(l,n)}catch(l){throw l instanceof Error&&l.message==="Authentication expired"&&o(),l}},[s,o])}},oe=()=>{const{authenticatedFetch:c}=$(),o=m.useCallback(async()=>{try{const r=await c("/User/Profile");if(!r.ok)throw new Error(`Failed to fetch profile: ${r.status}`);return await r.json()}catch(r){throw console.error("Error fetching user profile:",r),r}},[c]),s=m.useCallback(async()=>{try{const r=await c("/Dashboard/Data");if(!r.ok)throw new Error(`Failed to fetch dashboard data: ${r.status}`);return await r.json()}catch(r){throw console.error("Error fetching dashboard data:",r),r}},[c]);return{fetchUserProfile:o,fetchDashboardData:s}},we={AuthProvider:ee,useAuth:P,authService:A,LoginPage:te,ProtectedRoute:re,useAuthenticatedFetch:$,useApiData:oe};exports.AuthProvider=ee;exports.LoginPage=te;exports.ProtectedRoute=re;exports.authService=A;exports.default=we;exports.useApiData=oe;exports.useAuth=P;exports.useAuthenticatedFetch=$;
